<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ุงุณุชูุงุฑุฉ ุทูุจ ุชุฃุดูุฑุฉ ุงูุนูุฑุฉ</title>
  <link rel="stylesheet" href="tp1.css">
</head>
<body>
  <div class="container">
    <div class="header">
      <img src="soudi ara.jpg" alt="Logo">
      <h1>ุณูุงุฑุฉ ุงูููููุฉ ุงูุนุฑุจูุฉ ุงูุณุนูุฏูุฉ<br>ุงููุณู ุงูููุตูู<br><small>Ambassade du Royaume dโArabie Saoudite - Section Consulaire</small></h1>
    </div>

    <h2>๐ ุงุณุชูุงุฑุฉ ุทูุจ ุชุฃุดูุฑุฉ </h2>

    <div class="progress-container">
      <div class="progress-bar" id="progressBar"></div>
    </div>

    <form id="visaForm">
      <!-- Page 1 -->
      <div class="form-page active" id="page1">
        <div class="input-group">
  <label class="label-ar">ุงูุงุณู ุงููุงูู</label>
  <label class="label-en">Full Name</label>
 <input type="text" placeholder="ุฃุฏุฎู ุงุณูู ุงููุงูู" required data-validate="name">


</div>

<div class="input-group">
  <label class="label-ar">ุงูููุจ</label>
  <label class="label-en">Last Name</label>
  <input type="text" placeholder="ุฃุฏุฎู ููุจู" required data-validate="name">

</div>

<div class="input-group">
  <label class="label-ar">ุชุงุฑูุฎ ุงููููุงุฏ</label>
  <label class="label-en">Date of Birth</label>
  <input type="date" required>
</div>

<div class="input-group">
  <label class="label-ar">ุฑูู ุฌูุงุฒ ุงูุณูุฑ</label>
  <label class="label-en">Passport Number</label>
  <input type="text" placeholder="XXXXXXXX" required data-validate="passport">

</div>


        <div class="buttons">
          <div></div>
          <button type="button" onclick="nextPage(2)">ุงูุชุงูู</button>
        </div>
      </div>

      <!-- Page 2 -->
      <div class="form-page" id="page2">
        <label class="label-ar">ููุน ุงูุชุฃุดูุฑุฉ</label>
         <label class="label-en">visa Type</label>
        <select required>
          <option>ุนูุฑุฉ</option>
          <option>ุญุฌ</option>
          <option>ุฒูุงุฑุฉ</option>
        </select>
        <div class="input-group">
    <label class="label-ar">ุจูุฏ ุงูุฅูุงูุฉ</label>
    <label class="label-en">Country of Residence</label>
    <input type="text" required>
  </div>

  <div class="input-group">
    <label class="label-ar">ุชุงุฑูุฎ ุงููุตูู</label>
    <label class="label-en">Arrival Date</label>
    <input type="date" required>
  </div>

  <div class="input-group">
    <label class="label-ar">ุชุงุฑูุฎ ุงููุบุงุฏุฑุฉ</label>
    <label class="label-en">Departure Date</label>
    <input type="date" required>
  </div>

        <div class="buttons">
          <button type="button" onclick="nextPage(1)">ุงูุณุงุจู</button>
          <button type="button" onclick="nextPage(3)">ุงูุชุงูู</button>
        </div>
      </div>

      <!-- Page 3 -->
      <div class="form-page" id="page3">
        
  <div class="input-group">
    <label class="label-ar" > ุงูุนููุงู ุงููุงูู</label>
    <label class="label-en">Departure Date</label>
    <input type="date" required>
  </div>

  <div class="input-group">
    <label class="label-ar" > ุงูุจุฑูุฏ ุงูุฅููุชุฑููู</label>
    <label class="label-en">Departure Date</label>
    <input type="email" required data-validate="email">

  </div>

  <div class="input-group">
    <label class="label-ar" > ุฑูู ุงููุงุชู</label>

    <label class="label-en">Departure Date</label>
    <input type="text" required data-validate="phone">

  </div>
          <div class="buttons">
          <button type="button" onclick="nextPage(2)">ุงูุณุงุจู</button>
          <button type="button" onclick="nextPage(4)">ุงูุชุงูู</button>
        </div>
      </div>

      <!-- Page 4 -->
      <div class="form-page" id="page4">
        <label>ุฅุฑูุงู ุตูุฑุฉ ุฌูุงุฒ ุงูุณูุฑ</label>
        <input type="file" required>
        <label>ุฅุฑูุงู ุตูุฑุฉ ุดุฎุตูุฉ</label>
        <input type="file" required>
        <label class="checkbox-label">
  <input type="checkbox" required>
  <span>ุฃุชุนูุฏ ุจุตุญุฉ ุงููุนูููุงุช ุงููุงุฑุฏุฉ ุฃุนูุงู</span>
</label>


        <div class="buttons">
          <button type="button" onclick="nextPage(3)">ุงูุณุงุจู</button>
          <button type="submit" class="submit-btn">ุฅุฑุณุงู ุงูุทูุจ</button>
        </div>
      </div>
    </form>
  </div>



  <script>
    let currentPage = 1;
    const progressBar = document.getElementById("progressBar");

    function nextPage(page) {
      document.getElementById(`page${currentPage}`).classList.remove("active");
      document.getElementById(`page${page}`).classList.add("active");
      currentPage = page;
      progressBar.style.width = (page * 25) + "%";
      window.scrollTo(0, 0);
    }

    document.getElementById("visaForm").addEventListener("submit", function(e) {
      e.preventDefault();
      alert("โ ุชู ุฅุฑุณุงู ุงูุทูุจ ุจูุฌุงุญุ ุดูุฑูุง ูุชุนุจุฆุฉ ุงุณุชูุงุฑุฉ ");
    });


const pages = document.querySelectorAll(".form-page");

function showPage(index) {
    pages.forEach((p, i) => {
        p.classList.toggle("active", i === index);
    });
}

function showPage(index) {
  pages.forEach((p, i) => {
    p.classList.toggle("active", i === index);
  });
}

document.querySelectorAll(".next-btn").forEach(btn => {
  btn.addEventListener("click", () => {
    if (currentPage < pages.length - 1) currentPage++;
    showPage(currentPage);
  });
});

document.querySelectorAll(".prev-btn").forEach(btn => {
  btn.addEventListener("click", () => {
    if (currentPage > 0) currentPage--;
    showPage(currentPage);
  });
});
function showError(input, message) {
    let error = input.parentElement.querySelector(".error-msg");
    if (!error) {
        error = document.createElement("small");
        error.className = "error-msg";
        error.style.color = "red";
        error.style.marginTop = "-10px";
        error.style.display = "block";
        input.parentElement.appendChild(error);
    }
    error.textContent = message;
}


function clearError(input) {
    const error = input.parentElement.querySelector(".error-msg");
    if (error) error.textContent = "";
}


function validateInput(input) {
    const value = input.value.trim();
    const type = input.getAttribute("data-validate");

    
    if (type === "name") {
        if (/[0-9]/.test(value)) {
            showError(input, "โ ุงูุงุณู ูุฌุจ ุฃูุง ูุญุชูู ุฃุฑูุงููุง");
        } else clearError(input);
    }

    
    if (type === "passport") {
        if (/[^0-9]/.test(value)) {
            input.value = value.replace(/[^0-9]/g, "");
            showError(input, "โ ุฑูู ุงูุฌูุงุฒ ูุฌุจ ุฃู ูุญุชูู ุฃุฑูุงููุง ููุท");
        } else clearError(input);
    }

    
    if (type === "phone") {
        if (/[^0-9]/.test(value)) {
            input.value = value.replace(/[^0-9]/g, "");
            showError(input, "โ ุฑูู ุงููุงุชู ูุฌุจ ุฃู ูููู ุฃุฑูุงูุง ููุท");
        } else clearError(input);
    }

    
    if (type === "email") {
        const regex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
        if (!regex.test(value)) {
            showError(input, "โ ุงูุจุฑูุฏ ุงูุฅููุชุฑููู ุบูุฑ ุตุงูุญ");
        } else clearError(input);
    }
}

// ุชุทุจูู ุงูุชุญูู ุนูุฏ ุงููุชุงุจุฉ
document.querySelectorAll("[data-validate]").forEach(input => {
    input.addEventListener("input", () => validateInput(input));
});
function nextPage(page) {
    const currentFormPage = document.getElementById(`page${currentPage}`);
    const inputs = currentFormPage.querySelectorAll("input[required], select[required]");
    let valid = true;

    inputs.forEach(input => {
        validateInput(input); // ุชุญูู ูู ุงูุตูุบ ุงูุฎุงุตุฉ
        if (!input.value || input.parentElement.querySelector(".error-msg")?.textContent) {
            valid = false;
        }
    });

    if (!valid) {
        alert("โ ุงูุฑุฌุงุก ุชุนุจุฆุฉ ุฌููุน ุงูุญููู ุจุดูู ุตุญูุญ ูุจู ุงููุชุงุจุนุฉ");
        return; // ูููุน ุงูุงูุชูุงู
    }

    // ุงูุงูุชูุงู ููุตูุญุฉ ุงูุชุงููุฉ
    document.getElementById(`page${currentPage}`).classList.remove("active");
    document.getElementById(`page${page}`).classList.add("active");
    currentPage = page;
    progressBar.style.width = (page * 25) + "%";
    window.scrollTo(0, 0);
}



  </script>
</body>
</html>
